window.Manipulator=function(a){"use strict";var c=window.console&&typeof window.console.log=="function",b=function(c){var b=this;b.$el=a(c),b.init()};return b.prototype.init=function(){var a=this;a.initShuffle(),a.setupEvents()},b.prototype.initShuffle=function(){this.$el.shuffle({itemSelector:".shuffeldiv",speed:250,easing:"ease",columnWidth:function(b){return parseInt(a(".shuffeldiv").css("width"))},gutterWidth:function(b){return parseInt(a(".shuffeldiv").css("margin-left"))}}),this.shuffle=this.$el.data("shuffle")},b.prototype.setupEvents=function(){var b=this;a("#sfsi_wDiv").on("click",a.proxy(b.onRandomize,b)),b.$el.on("removed.shuffle",function(a,b,d){if(!c)return})},b.prototype.onAddClick=function(){var d=this,k=5,h=document.createDocumentFragment(),l=d.$el[0],f=[],g,j=["w2","h2","w3"],b,c,e,i;for(c=0;c<k;c++)e=Math.random(),b=document.createElement("div"),b.className="shuffeldiv",e>.8&&(i=Math.floor(Math.random()*3),b.className=b.className+" "+j[i]),f.push(b),h.appendChild(b);l.appendChild(h),g=a(f),d.shuffle.appended(g)},b.prototype.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},b.prototype.onRemoveClick=function(){var b=this,c=b.shuffle.visibleItems,g=Math.min(3,c),e=[],f=0,d=a();if(!c)return;for(;f<g;f++)e.push(b.getRandomInt(0,c-1));a.each(e,function(c,a){d=d.add(b.shuffle.$items.eq(a))}),b.shuffle.remove(d)},b.prototype.onRandomize=function(){var a=this,b={randomize:!0};a.shuffle.sort(b)},b}(jQuery)